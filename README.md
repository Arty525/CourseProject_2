# CourseProject_2
Это курсовой проект по курсу "Разработчик на Python" от платформы Skypro

Данная программа получает список вакансий с сайта hh.ru по заданным параметрам, сохраняет их в файлы формата json, csv
и xlsx, выполняет поиск вакансий в этих файлах по заданным параметрам, выводит топ вакансий из этих файлов и
удаляет список вакансий из локальных файлов.

## Установка и запуск проекта
Для установки и запуска проекта у вас должны быть установлены IDE, Python 3, GitHub, Poetry, pytest, flake8,
black, mypy, isort
    
    - Клонируйте репозиторий командой 'git clone https://github.com/Arty525/EP_Skypro.git'
    - Запустите проект в своей IDE
    - Перейдите в src/main.py
    - Запустите файл main.py в вашей IDE

### Команды для запуска:

Запуск программы происходит при запуске модуля main.py
Далее программа запрашивает команды у пользователя, все доступные команды выводятся на экран.
Команды считываются со стандартного ввода с клавиатуры. При вводе неверной команды программа запрашивает повторный ввод.

## Используемые библиотеки
pandas, openpyxl, python-dotenv, requests, logging

## Тестирование

В проекте используется pytest и Code coverage. 
Для запуска всех тестов используйте команду pytest.
Для проверки покрытия кода тестами используйте команды:

    pytest --cov - при активированном виртуальном окружении
    poetry run pytest --cov - для запуска через Poetry
    pytest --cov=src --cov-report=html - для вывода отчета о покрытии в html файл

## Список доступных функций

### get_top()
Функция возвращает топ вакансий

### get_vacancies_from_hh()
Функция принимает команды от пользователя и записывает вакансии с hh.ru в файлы

### search_vacancies()
Функция принимает от пользователя параметры запроса, выполняет поиск по локальным файлам и возвращает список
вакансий.

### add_vacancy_to_file()
Функция принимает от пользователя данные о вакансии и записывает ее в файлы

### _connect_api()
Функция проверяет подключение к базовому url hh.ru

### get_vacancies()
Функция получает на вход ключевые слова в виде строки,
выполняет запрос на внешний API и возвращает список вакансий в которых присутствуют указанные слова.

### get_currency_rates()
Функция обращается к внешнему API и возвращает курсы валют

### __validate()
Функция принимает на вход значение поля "salary" и возвращает корректное значение

### get_vacancy()
Функция возвращает вакансию в виде словаря

### read_file()
Функция принимает на вход параметры для поиска и возвращает список вакансий, подходящих
под указанные параметры. Поиск выполняется по ключевому слову и зарплате.

### save_to_file()
Функция принимает список вакансий и сохраняет их в файл

### add_vacancy()
Функция принимает вакансию и добавляет ее в файл.

### delete_vacancy()
Функция удаляет список вакансий из локального файла

## Классы

### FileEditor
Базовый класс для работы с файлами

### JSONEditor
Класс для работы с JSON-файлами

### ExcelEditor
Класс для работы с Excel-файлами

### CSVEditor
Класс для работы с CSV-файлами

### HeadHunterAPI
Базовый класс для работы с API HeadHunter

### HH
Класс для работы с API hh.ru

### Vacancy
Класс для работы с вакансиями
